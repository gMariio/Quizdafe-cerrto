<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<title>Quiz da F√© - Gamificado</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root { --bg:#0f1222; --card:#1e2442; --accent:#d4af37; --light:#f5f5f8; --radius:16px; --transition:.3s; font-family: system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;}
  body { margin:0; background: radial-gradient(circle at 30% 30%, #1e2442 0%, #0f1222 75%); color: var(--light); min-height:100vh; display:flex; flex-direction:column; align-items:center; padding:1rem; }
  .app { width:100%; max-width:640px; background: var(--card); border-radius:16px; padding:2rem; position:relative; overflow:hidden; box-shadow:0 35px 90px -10px rgba(0,0,0,.7); border:2px solid rgba(212,175,55,.3); }
  h1 { margin:0; font-size:1.9rem; letter-spacing:1px; }
  .stage-label { display:inline-block; background: rgba(212,175,55,.15); padding:6px 14px; border-radius:999px; margin-bottom:8px; font-size:.65rem; text-transform:uppercase; font-weight:600; }
  .scoreboard { display:flex; gap:1rem; flex-wrap:wrap; margin:16px 0; align-items:center; }
  .badge { background: rgba(255,255,255,.05); padding:.75rem 1rem; border-radius:10px; font-size:.85rem; display:flex; align-items:center; gap:.4rem; flex:1; min-width:140px; }
  .question-box { margin-top:.5rem; margin-bottom:1rem; padding:1rem; background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); border-radius:12px; }
  .question { font-size:1.25rem; margin:0 0 .85rem 0; }
  .options { display:grid; gap:.85rem; margin-top:4px; }
  .option-btn { background:#1d2350; border:2px solid transparent; padding:1rem; border-radius:10px; cursor:pointer; font-size:1rem; transition:var(--transition); width:100%; text-align:left; display:flex; align-items:center; gap:.6rem; }
  .option-btn:hover { transform:translateY(-2px); box-shadow:0 12px 40px -5px rgba(212,175,55,.4); }
  .option-btn.correct { border-color:#2ecc71; background: rgba(46,204,113,0.15); }
  .option-btn.wrong { border-color:#e74c3c; background: rgba(231,76,60,0.1); }
  .feedback { margin-top:10px; min-height:28px; font-weight:700; }
  .next-btn, .reset-btn { margin-top:1rem; padding:.9rem 1.3rem; border:none; border-radius:10px; cursor:pointer; font-weight:700; background: var(--accent); color:#1a1a1a; }
  .final { text-align:center; margin-top:8px; }
  .bonus { background: rgba(255,255,255,.04); padding:1rem; border-radius:12px; margin-top:1rem; border:1px solid rgba(212,175,55,.2); }
  .small { font-size:.72rem; color:rgba(255,255,255,.7); }
  .coin-display { display:flex; align-items:center; gap:.5rem; font-weight:600; }
  .coin-icon { width:20px; height:20px; background: radial-gradient(circle at 30% 30%, #ffe066,#f5b700); border-radius:50%; position:relative; }
  .coin-icon::after { content:'ü™ô'; position:absolute; top:0; left:0; width:100%; height:100%; display:flex; align-items:center; justify-content:center; font-size:16px; }
  .link-btn { margin-top:12px; padding:14px 22px; background:#176f47; color:#fff; border:none; border-radius:10px; cursor:pointer; text-decoration:none; font-weight:700; display:inline-block; }
  .availability { background:#c0392b; padding:6px 14px; border-radius:6px; color:#fff; }
  .confetti { position:fixed; inset:0; pointer-events:none; overflow:hidden; }
  .confetto { position:absolute; width:8px; height:8px; border-radius:2px; mix-blend-mode:screen; }
</style>
</head>
<body>
<div class="app">
  <div class="stage-label" id="stage-label">Etapa 1 de 3</div>
  <h1>Quiz da F√©</h1>
  <div class="scoreboard">
    <div class="badge">
      <div class="coin-display"><div class="coin-icon"></div><div id="coin-count">0</div></div><div><strong>Moedas</strong></div>
    </div>
    <div class="badge"><div id="question-progress">Pergunta 1 / 9</div></div>
  </div>
  <div id="content"></div>
  <div class="final" id="final-screen" style="display:none;">
    <h2>Voc√™ completou o Quiz!</h2>
    <div style="background:rgba(46,204,113,0.1); padding:10px; border-radius:8px;">Mesmo que n√£o tenha acertado todas, <strong>voc√™ ganhou 3 b√¥nus garantidos</strong> por participar.</div>
    <p>Acumulou <strong><span id="final-coins">0</span> moedas</strong>.</p>
    <div class="bonus">
      <p><strong>Convers√£o de moedas em b√¥nus:</strong></p>
      <p id="bonus-detail"></p>
      <p>Esse b√¥nus d√° acesso ao livro especial sobre a B√≠blia e t√©cnicas para fortalecer sua f√©.</p>
      <div style="background: #fff8e1; padding:12px; border-radius:8px; margin-top:6px; color:#1f1f1f;">
        <p>üîî <strong>Oferta limitada:</strong> Apenas <span class="availability">3 unidades dispon√≠veis</span>. Quem age agora recebe primeiro ‚Äî n√£o deixe passar.</p>
      </div>
      <a class="link-btn" id="product-link" href="https://siteseguro.net/PPU38CPTP65" target="_blank">üëâ Acessar e Resgatar (<span id="coupon-code">...</span>)</a>
    </div>
    <button class="reset-btn" id="restart">Refazer Quiz</button>
    <div style="margin-top:14px;font-size:.75rem;color:rgba(255,255,255,.7);text-align:center;">
      <p>Baseado em crescimento espiritual. Gamifica√ß√£o para refor√ßar sua f√©.</p>
    </div>
  </div>
</div>
<div class="confetti" id="confetti-container"></div>
<script>
const stages=[
  {name:"Etapa 1",questions:[
    {q:"Quantos disc√≠pulos Jesus escolheu originalmente?",options:["10","12","14","16"],correct:1,reward:5},
    {q:"Qual √© o primeiro livro da B√≠blia?",options:["√äxodo","G√™nesis","Salmos","Isa√≠as"],correct:1,reward:5},
    {q:"Quem construiu a arca para sobreviver ao dil√∫vio?",options:["Mois√©s","Abra√£o","No√©","Davi"],correct:2,reward:5}
  ]},
  {name:"Etapa 2",questions:[
    {q:"Qual √© o fruto do Esp√≠rito mencionado em G√°latas?",options:["Riqueza","Amor","Fama","Poder"],correct:1,reward:10},
    {q:"Quem foi jogado na cova dos le√µes e sobreviveu?",options:["Daniel","Elias","Samuel","Jonas"],correct:0,reward:10},
    {q:"Qual o nome do rei famoso por sua sabedoria?",options:["Saul","Salom√£o","Josias","Rebeca"],correct:1,reward:10}
  ]},
  {name:"Etapa 3",questions:[
    {q:"Jesus multiplicou quantos p√£es para alimentar a multid√£o (no primeiro milagre assim descrito)?",options:["2","5","7","10"],correct:1,reward:15},
    {q:"Qual √© o mandamento principal segundo Jesus?",options:["Amar a Deus e ao pr√≥ximo","Guardar s√°bado","Dar d√≠zimos","Jejuar sempre"],correct:0,reward:15},
    {q:"Quem negou Jesus tr√™s vezes antes do galo cantar?",options:["Pedro","Tom√©","Jo√£o","Judas"],correct:0,reward:15}
  ]}
];
function converterBonus(moedas){const base=Math.floor(moedas/30);let cupons=0;if(moedas>0)cupons=Math.max(base,3);const resto=moedas%30;return{descricao:cupons>0?`Voc√™ conquistou ${cupons} cupom${cupons===1?'':'s'} de 10% no livro sobre a B√≠blia e t√©cnicas de f√©. Sobra ${resto} moeda${resto===1?'':'s'}.`:`Voc√™ n√£o acertou o suficiente para liberar cupons de desempenho, mas mesmo assim tem 3 b√¥nus de participa√ß√£o.`,cupons:cupons||3,sobra:resto};}
let stageIndex=0,questionIndex=0,coins=0,answered=false;
const coinEl=()=>document.getElementById('coin-count');const contentEl=()=>document.getElementById('content');
function playGainSound(){try{const ctx=new (window.AudioContext||window.webkitAudioContext)();const now=ctx.currentTime;[500,650,800].forEach((f,i)=>{const o=ctx.createOscillator();const g=ctx.createGain();o.type='triangle';o.frequency.value=f;g.gain.value=0.08*(1 - i*0.1);o.connect(g);g.connect(ctx.destination);o.start(now+0.04*i);o.stop(now+0.04*i+0.18);});}catch(e){}}
function playErrorSound(){try{const ctx=new (window.AudioContext||window.webkitAudioContext)();const o=ctx.createOscillator();const g=ctx.createGain();o.type='sawtooth';o.frequency.value=180;g.gain.value=0.1;o.connect(g);g.connect(ctx.destination);o.start();setTimeout(()=>o.stop(),200);}catch(e){}}
function floatCoinGain(amount){const el=document.createElement('div');el.textContent='+'+amount+' ü™ô';el.style.position='fixed';el.style.left='50%';el.style.top='35%';el.style.transform='translate(-50%,-50%) scale(1)';el.style.padding='12px 20px';el.style.background='rgba(212,175,55,0.95)';el.style.color='#1a1a1a';el.style.fontWeight='700';el.style.borderRadius='999px';el.style.fontSize='1.3rem';el.style.zIndex=2000;el.style.transition='transform .7s ease-out, opacity .7s ease-out';document.body.appendChild(el);requestAnimationFrame(()=>{el.style.transform='translate(-50%,-180px) scale(1.4)';el.style.opacity='0';});setTimeout(()=>el.remove(),800);triggerConfetti();}
function triggerConfetti(){const container=document.getElementById('confetti-container');for(let i=0;i<25;i++){const c=document.createElement('div');c.className='confetto';c.style.left=Math.random()*100+'%';c.style.top='-10px';const size=6+Math.random()*8;c.style.width=size+'px';c.style.height=size+'px';c.style.background=['#d4af37','#ffffff','#2ecc71'][Math.floor(Math.random()*3)];container.appendChild(c);const endX=(Math.random()-0.5)*180;const endY=120+Math.random()*60;const duration=1200+Math.random()*600;c.animate([ {transform:'translate(0,0) rotate(0deg)',opacity:1},{transform:`translate(${endX}px, ${endY}px) rotate(${Math.random()*360}deg)`,opacity:0}],{duration,easing:'cubic-bezier(.25,.8,.5,1)'});setTimeout(()=>{c.remove();},duration+100);}}
function updateScoreboard(){coinEl().textContent=coins;const total=stages.reduce((s,e)=>s+e.questions.length,0);const globalIndex=stages.slice(0,stageIndex).reduce((s,e)=>s+e.questions.length,0)+questionIndex;document.getElementById('question-progress').textContent='Pergunta '+(globalIndex+1)+' / '+total;document.getElementById('stage-label').textContent=stages[stageIndex].name+' ('+(stageIndex+1)+' de '+stages.length+')';}
function showCurrentQuestion(){answered=false;contentEl().innerHTML='';if(stageIndex>=stages.length) return showFinal();const stage=stages[stageIndex];if(questionIndex>=stage.questions.length){stageIndex++;questionIndex=0;if(stageIndex>=stages.length) return showFinal();}if(stageIndex>=stages.length) return showFinal();const q=stage.questions[questionIndex];const box=document.createElement('div');box.className='question-box';const lbl=document.createElement('div');lbl.className='small';lbl.textContent=stage.name;box.appendChild(lbl);const h=document.createElement('div');h.className='question';h.textContent=q.q;box.appendChild(h);const opts=document.createElement('div');opts.className='options';q.options.forEach((o,i)=>{const btn=document.createElement('button');btn.className='option-btn';btn.textContent=o;btn.disabled=false;btn.addEventListener('click',()=>selectOption(i,btn));opts.appendChild(btn);});box.appendChild(opts);const fb=document.createElement('div');fb.className='feedback';fb.id='feedback';box.appendChild(fb);const next=document.createElement('button');next.textContent='Pr√≥xima';next.className='next-btn';next.id='next';next.disabled=true;next.addEventListener('click',()=>{questionIndex++;saveState();showCurrentQuestion();});box.appendChild(next);contentEl().appendChild(box);updateScoreboard();}
function selectOption(idx,btn){if(answered) return;answered=true;const stage=stages[stageIndex];const q=stage.questions[questionIndex];const feedback=document.getElementById('feedback');const nextBtn=document.getElementById('next');document.querySelectorAll('.option-btn').forEach(b=>b.disabled=true);if(idx===q.correct){btn.classList.add('correct');coins+=q.reward;feedback.textContent='Correto! +'+q.reward+' moedas.';playGainSound();floatCoinGain(q.reward);}else{btn.classList.add('wrong');const correctBtn=document.querySelectorAll('.option-btn')[q.correct];if(correctBtn) correctBtn.classList.add('correct');feedback.textContent='Errado. A resposta certa era "'+q.options[q.correct]+'".';playErrorSound();}nextBtn.disabled=false;updateScoreboard();saveState();}
function showFinal(){document.getElementById('content').style.display='none';document.getElementById('final-screen').style.display='block';document.getElementById('final-coins').textContent=coins;coinEl().textContent=coins;const bonus=converterBonus(coins);document.getElementById('bonus-detail').textContent=bonus.descricao;let code=coins>0?"FE"+(bonus.cupons*10)+"OFF":"FEDEPTO";document.getElementById('coupon-code').textContent=code;const link=document.getElementById('product-link');link.textContent='üëâ Acessar e Resgatar ('+code+')';link.setAttribute('data-cupom',code);}
function saveState(){try{localStorage.setItem('quiz_faith_state',JSON.stringify({stageIndex,questionIndex,coins}));}catch(e){}}
function loadState(){try{const raw=localStorage.getItem('quiz_faith_state');if(!raw) return;const obj=JSON.parse(raw);if(typeof obj.stageIndex==='number') stageIndex=obj.stageIndex; if(typeof obj.questionIndex==='number') questionIndex=obj.questionIndex; if(typeof obj.coins==='number') coins=obj.coins;}catch(e){}}
document.addEventListener('DOMContentLoaded',()=>{loadState();showCurrentQuestion();document.getElementById('restart').addEventListener('click',()=>{stageIndex=0;questionIndex=0;coins=0;document.getElementById('content').style.display='';document.getElementById('final-screen').style.display='none';updateScoreboard();showCurrentQuestion();clearState();});});
function clearState(){try{localStorage.removeItem('quiz_faith_state');}catch(e){}}
</script>
</body>
</html>
